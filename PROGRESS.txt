KHA-PARKING SYSTEM
DEPLOYMENT & SETUP GUIDE
Version: 1.0
Created: 27/02/2026

==================================================

SYSTEM OVERVIEW
==================================================

KHA-PARKING là hệ thống quản lý bãi giữ xe thông minh.

Chức năng chính:

Kiểm soát xe ra vào

Nhận diện biển số xe

Quản lý thẻ RFID / QR

Tính phí tự động

Lưu lịch sử giao dịch

Vận hành nhiều cổng barrier

Người sử dụng:

Guard (Bảo vệ)

Accountant (Kế toán)

Manager

IT Administrator

Hệ thống sử dụng trình duyệt web, không cần cài phần mềm client.

SYSTEM ARCHITECTURE

Browser (Guard / Accountant)
|
v
Laravel Backend Server
|
+-- SQL Server 2022 Database
+-- Python AI (License Plate Recognition)
+-- Camera / Barrier Controller

Máy kế toán đóng vai trò:

Application Server

Database Server

Image Storage Server

Các máy bảo vệ truy cập qua mạng LAN.

TECHNOLOGY STACK

Backend: Laravel 10+
Language: PHP 8.2.x
Database: SQL Server 2022 Express
AI Recognition: Python + OpenCV
Web Server: Laravel built-in / Apache / Nginx
OS: Windows 10 / Windows Server

DATABASE STRUCTURE

Tables:

roles

users

customers

cards

vehicles

gates

pricing_rules

parking_transactions

Quan hệ chính:
User -> Role
Customer -> Vehicles
Vehicle -> Cards
Gate -> ParkingTransactions

REQUIRED SOFTWARE

Cài đặt các phần mềm sau:

PHP 8.2.x NTS x64

Composer

SQL Server 2022 Express

SQL Server Management Studio (SSMS)

Microsoft ODBC Driver 17 hoặc 18

Git

PHP CONFIGURATION

Kiểm tra phiên bản:

php -v

Yêu cầu:
PHP 8.2.x (NTS x64)

Copy các file driver vào:

C:\php82\ext

Files:
php_sqlsrv_82_nts_x64.dll
php_pdo_sqlsrv_82_nts_x64.dll

Mở file:
C:\php82\php.ini

Bật các extension:

extension=openssl
extension=php_sqlsrv_82_nts_x64.dll
extension=php_pdo_sqlsrv_82_nts_x64.dll

Kiểm tra:

php -m | findstr sqlsrv
php -m | findstr openssl

Phải xuất hiện:
sqlsrv
pdo_sqlsrv
openssl

SQL SERVER CONFIGURATION

Instance sử dụng:
SQLEXPRESS

Mở CMD bằng quyền Administrator.

Enable TCP/IP:

reg add "HKLM\SOFTWARE\Microsoft\Microsoft SQL Server\MSSQL16.SQLEXPRESS\MSSQLServer\SuperSocketNetLib\Tcp" /v Enabled /t REG_DWORD /d 1 /f

Set port 1433:

reg add "HKLM\SOFTWARE\Microsoft\Microsoft SQL Server\MSSQL16.SQLEXPRESS\MSSQLServer\SuperSocketNetLib\Tcp\IPAll" /v TcpPort /t REG_SZ /d 1433 /f

reg add "HKLM\SOFTWARE\Microsoft\Microsoft SQL Server\MSSQL16.SQLEXPRESS\MSSQLServer\SuperSocketNetLib\Tcp\IPAll" /v TcpDynamicPorts /t REG_SZ /d "" /f

Restart service:

net stop MSSQL$SQLEXPRESS
net start MSSQL$SQLEXPRESS

Mở firewall:

netsh advfirewall firewall add rule name="SQL Server 1433" dir=in action=allow protocol=TCP localport=1433

Kiểm tra port:

netstat -ano | findstr 1433

Phải thấy:
LISTENING 0.0.0.0:1433

Test kết nối:

sqlcmd -S 127.0.0.1,1433 -E

LARAVEL PROJECT SETUP

Clone project:

git clone <repository>
cd KHA-PARKING

Cài dependency:

composer install

ENV CONFIGURATION

Mở file .env và cấu hình:

DB_CONNECTION=sqlsrv
DB_HOST=127.0.0.1
DB_PORT=1433
DB_DATABASE=kha_parking_db
DB_USERNAME=root
DB_PASSWORD=
DB_ENCRYPT=false
DB_TRUST_SERVER_CERTIFICATE=true

CREATE DATABASE

Mở SQL Server Management Studio.

Tạo database:

kha_parking_db

INITIALIZE DATA

Chạy lệnh:

php artisan migrate --seed

Seeder sẽ tạo:

4 roles mặc định

Admin account

Bảng giá mẫu

Cổng chính

RUN SYSTEM

php artisan serve

Truy cập:

http://127.0.0.1:8000

DEFAULT ACCOUNT

Email: admin@khaservice.vn

Password: Admin@123

IMAGE STORAGE

Ảnh xe được lưu tại:

D:\KHA-PARKING\storage\vehicles\

Database chỉ lưu đường dẫn file.

DAILY MAINTENANCE COMMANDS

Clear cache:

php artisan optimize:clear

Restart queue:

php artisan queue:restart

COMMON ERRORS

openssl_cipher_iv_length:
=> chưa bật extension openssl

TCP connection refused:
=> SQL Server chưa bật TCP/IP hoặc port 1433

Could not open artisan:
=> chưa cd vào thư mục project

END OF DOCUMENT

==================================================